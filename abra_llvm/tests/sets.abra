// Test raw construction of set
(() => {
  val set: Set<Int> = Set.new()
  set.insert(1)
  set.insert(2)
  set.insert(3)
  set.insert(3)

  /// Expect: 3
  println(set.size)
  /// Expect: #{1, 2, 3}
  println(set)
})()

// Test set literal construction
(() => {
  val set = #{1, 2, 3, 3}

  /// Expect: 3
  println(set.size)
  /// Expect: #{1, 2, 3}
  println(set)
})()

// Set#isEmpty
(() => {
  val set: Set<Int> = #{}
  /// Expect: true
  println(set.isEmpty())

  set.insert(1)
  /// Expect: false
  println(set.isEmpty())
})()

// Set#contains
(() => {
  val set: Set<Int> = #{}
  /// Expect: false
  println(set.contains(1))

  set.insert(1)
  /// Expect: true
  println(set.contains(1))
  /// Expect: false
  println(set.contains(12))
})()

// Set#forEach
(() => {
  val set = #{1, 17, 0, 16}
  /// Expect: 0
  /// Expect: 16
  /// Expect: 1
  /// Expect: 17
  set.forEach(i => println(i))
})()

// Set#map
(() => {
  val set = #{1, 17, 0, 16}
  /// Expect: [0, 0, 1, 1]
  println(set.map(i => i % 16))
})()

// Set#filter
(() => {
  val set = #{1, 17, 0, 16}
  /// Expect: #{16, 17}
  println(set.filter(i => i >= 16))
})()

// Set#asArray
(() => {
  val set1 = #{0, 1, 1, 2, 3, 3, 4}
  /// Expect: [0, 1, 2, 3, 4]
  println(set1.asArray())
})()

// Set#union
(() => {
  val evens = #{0, 2, 4, 6}
  val odds = #{1, 3, 5, 7}
  /// Expect: #{0, 1, 2, 3, 4, 5, 6, 7}
  println(evens.union(odds))
  /// Expect: #{0, 1, 2, 3, 4, 5, 6, 7}
  println(odds.union(evens))
})()

// Set#difference
(() => {
  val set1 = #{1, 2, 3, 4}
  val set2 = #{0, 2, 3, 5}
  /// Expect: #{1, 4}
  println(set1.difference(set2))
  /// Expect: #{0, 5}
  println(set2.difference(set1))
})()

// Set#intersection
(() => {
  val set1 = #{1, 2, 3, 4}
  val set2 = #{0, 2, 3, 5}
  /// Expect: #{2, 3}
  println(set1.intersection(set2))
  /// Expect: #{2, 3}
  println(set2.intersection(set1))
})()

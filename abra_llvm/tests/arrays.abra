// Test raw construction of array
val a1 = Array<Int>(length: 0, _buffer: Pointer.malloc<Int>(1), _capacity: 1)
a1.push(12)
/// Expect: [12]
echo<Int[]>(a1)

// Test array literal construction
val a2: Int[] = []
/// Expect: []
echo<Int[]>(a2)

val a3 = [1, 2, 3, 4]
/// Expect: [1, 2, 3, 4]
echo<Int[]>(a3)

val a4 = [0.12, 3.45, 6.0]
/// Expect: [0.12, 3.45, 6]
echo<Float[]>(a4)

val a5 = ["ab", "cd", "ef"]
/// Expect: [ab, cd, ef]
echo<String[]>(a5)

val a6 = [[1, 2], [3, 4], [5, 6]]
/// Expect: [[1, 2], [3, 4], [5, 6]]
echo<Int[][]>(a6)

// Array#pop()
val arr = [1, 2, 3]
/// Expect: 3
echo<Int?>(arr.pop())
/// Expect: [1, 2]
echo<Int[]>(arr)

/// Expect: 2
echo<Int?>(arr.pop())
/// Expect: [1]
echo<Int[]>(arr)

/// Expect: 1
echo<Int?>(arr.pop())
/// Expect: []
echo<Int[]>(arr)

/// Expect: None
echo<Int?>(arr.pop())
/// Expect: []
echo<Int[]>(arr)

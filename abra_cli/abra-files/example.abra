// TODO: This shouldn't stackoverflow
//println([])

var a = 1

type Foo {
  i: Int

  func foo(self): Int = a += self.i
}

func bar() {
  val f = Foo(i: 11)
  println(a)
  println(f.foo())
  println(a)
}

bar()

//func foo() {
//  a += 1
//}
//
//func bar() {
//  foo()
//  foo()
//}
//
//func baz() {
//  bar()
//}
//
//println(a)
//baz()
//println(a)
//baz()
//println(a)
